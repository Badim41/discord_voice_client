import datetime

from discord_user.types import ActivityType, Activity
from network_tools import GptModels, HailuoModelIds, HailuoLanguages

# API –∫–ª—é—á–∏
network_tools_api = "API_KEY" # https://github.com/Badim41/discord_voice_client
cohere_api_key = "Cohere-API" # https://dashboard.cohere.com/api-keys
auth_token_discord = "Ds-API"  # –¢–æ–∫–µ–Ω discord. –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: https://yellowfire.ru/ds_user_api

# proxy = "socks5://..."
cohere_proxies = None  # –ü—Ä–æ–∫—Å–∏ –¥–ª—è Cohere: {"http": proxy, "https": proxy}
discord_proxies = None  # –ü—Ä–æ–∫—Å–∏ –¥–ª—è Discord: {"http": proxy, "https": proxy}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ STT
device_input = "CABLE-A Output"  # –û—Å–Ω–æ–≤–Ω–æ–π –º–∏–∫—Ä–æ—Ñ–æ–Ω STT
recognize_lang = "ru-RU"
silence_duration = 1.0  # –î–ª–∏–Ω–∞ —Ç–∏—à–∏–Ω—ã (—Å–µ–∫), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
stop_on_speech_duration = 1.5  # –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ—á–∏ (—Å–µ–∫), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—Å—è TTS. –ù—É–∂–Ω–æ —á—Ç–æ–±—ã –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–µ –ø–µ—Ä–µ–±–∏–≤–∞–ª–∞ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π
recognize_extra_logs = True  # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TTS
devices_output = ["CABLE-B Input"]  # –î–∏–Ω–∞–º–∏–∫ –¥–ª—è TTS. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ
translit_lang = 'ru'  # –î–ª—è —Ç—Ä–∞–Ω—Å–ª–∏—Ç–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π. None –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

voice_id = ""  # ID –≥–æ–ª–æ—Å–∞ Hailuo TTS
tts_speed = 0.95  # –°–∫–æ—Ä–æ—Å—Ç—å –≥–æ–ª–æ—Å–∞ TTS (–ù–ï —Å–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
tts_model = HailuoModelIds.speech_02_turbo  # –ú–æ–¥–µ–ª—å. Turbo - —Å–∞–º–∞—è –±—ã—Å—Ç—Ä–∞—è
tts_lang = HailuoLanguages.rus  # –Ø–∑—ã–∫. –ú–æ–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å Auto
tts_extra_logs = True  # –ü–æ–¥—Ä–æ–±–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å TTS

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Discord
handling_chat_ids = []  # —Å–ø–∏—Å–æ–∫ ID —á–∞—Ç–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
reply_on_every_message = False  # –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏–π.
say_greeting_text = True  # –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–∏ –∑–∞—Ö–æ–¥–µ –≤ –≤–æ–π—Å-—á–∞—Ç
max_event_length = 750  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ–º—ã—Ö —Å–æ–±—ã—Ç–∏–π
max_length_history = 2000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

# –ï—Å–ª–∏ 'False' - —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–≤–æ–π –Ω–∏–∫ –≤ Discord, –∏–º—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –ª—é–±—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ChatGPT
# - –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å '–¥—É–º–∞—é—â–∏–µ –º–æ–¥–µ–ª–∏ –∏–∑-–∑–∞ –∑–∞–¥–µ—Ä–∂–∫–∏'
# - –¢–∞–∫–∂–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –≥–ª—É–ø–µ–µ gpt-4o-mini: command-r, minimax, reka-flash –∏ –¥—Ä—É–≥–∏–µ
chat_gpt_model = GptModels.chatgpt_4o  # 'chatgpt-4o'.
voice_gpt_model = GptModels.chatgpt_4o  # 'chatgpt-4o'.
internet_access = False  # –î–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç. –ú–æ–∂–µ—Ç –∑–∞–º–µ–¥–ª–∏—Ç—å –æ—Ç–≤–µ—Ç –µ—Å–ª–∏ 'True'
clear_history_on_restart = True  # –æ—á–∏—â–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–¥–∞

# –°–∏—Å—Ç–µ–º–Ω—ã–π –∑–∞–ø—Ä–æ—Å. –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–Æ —Å—é–¥–∞ –ø–∏—Å–∞—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ
# –î–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ –≤–æ–ø—Ä–æ—Å–æ–≤-–æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é dataset/create_dataset.py
# –î–ª—è —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –Ω—É–∂–µ–Ω –ª—é–±–æ–π —Ç–µ–∫—Å—Ç: –ø–æ—Å—Ç—ã, —Å–æ–æ–±—â–µ–Ω–∏—è, –∑–∞–ø–∏—Å–∏ —Å—Ç—Ä–∏–º–æ–≤, –≤–∏–¥–µ–æ
# –ì–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã –∏–∑ —ç—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç
# –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É —Ç–µ–∫—Å—Ç–∞ –∏–∑ ~30 —á–∞—Å–æ–≤ —Å—Ç—Ä–∏–º–æ–≤
character_name = "CHAR_NAME" # TODO
system_prompt = f"""–¢—ã –¥–æ–ª–∂–µ–Ω –≤–µ—Å—Ç–∏ —Å–µ–±—è –∫–∞–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂ —Å –∏–º–µ–Ω–µ–º '{character_name}'. –ù–µ –≤—ã—Ö–æ–¥–∏ –∏–∑ —Å–≤–æ–µ–π —Ä–æ–ª–∏. 
–û—Ç–≤–µ—á–∞–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ—Ä–æ—Ç–∫–æ: 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç–≤–µ—Ç–∞, 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –µ—Å–ª–∏ —Ç–µ–±—è –ø—Ä–æ—Å—è—Ç —á—Ç–æ-—Ç–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å.
–ò–Ω–æ–≥–¥–∞ –∑–∞–¥–∞–≤–∞–π –æ—Ç–≤–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –ø–æ–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å—Å—è —á–µ–º-—Ç–æ —É —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤.
–î–æ–±–∞–≤–ª—è–π —Å–≤–æ–∏ —Ñ–∏—à–∫–∏ (–∏–∑ –ø–∞–º—è—Ç–∏ –≤ —Ç–æ–º —á–∏—Å–ª–µ)
–¢–≤–æ–π –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ —Ä–µ—á—å, —Ç–∞–∫ —á—Ç–æ –¥–æ–±–∞–≤—å —Å–≤—è–∑–∫–∏ ("–ê–∞–∞...", "–•–º–º...", "...", "–û–æ...")
"""

# –û—Ç–≤–µ—Ç JSON –¥–ª—è —á–∞—Ç–∞
answer_json_format = """–í—ã–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
"event_type": "–¢–∏–ø —Å–æ–±—ã—Ç–∏—è: 'write' –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è, 'reaction' –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏",
"text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è event_type 'write')",
"reply_to": "–ù–∏–∫–Ω–µ–π–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞ —á—å–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
"image": "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏)",
"reaction": "–°–∏–º–≤–æ–ª —Ä–µ–∞–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 'ü§ö', –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è event_type 'reaction'). –ü–æ—Å—Ç–∞—Ä–∞–π—Å—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏–∏"
"""

# –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ JSON –¥–ª—è —á–∞—Ç–∞
answer_json_examples = """
### –ù–∞–ø–∏—Å–∞—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç
[{"event_type":"write","text":"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"}]
### –ù–∞–ø–∏—Å–∞—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç, –æ—Ç–≤–µ—Ç–∏–≤ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
[{"event_type":"write","reply_to":"NickName","text":"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"}]
### –ù–∞–ø–∏—Å–∞—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
[{"event_type":"write","text":"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è 1"}, {"event_type":"write","text":"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è 2"}]
### –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —á–∞—Ç
[{"event_type":"write","reply_to":"NickName","text":"–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è", "image":"–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏"}]
### –û—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
[{"event_type":"reaction","reply_to":"NickName","reaction":"ü§ö"}]
"""

# –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ Discord.
# –ß—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –µ—ë, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ
# activity = NoActivity()

activity_json = {
    'id': '3c5be2936bd6924c',
    'created_at': int(datetime.datetime.now().timestamp()) * 1000,
    'name': '1 –∞–ø—Ä–µ–ª—è',  # "–ò–≥—Ä–∞–µ—Ç –≤ ..."
    "details": "–° 1 –∞–ø—Ä–µ–ª—è",  # 1 –ª–∏–Ω–∏—è
    "state": ":)",  # 2 –ª–∏–Ω–∏—è
    'type': ActivityType.PLAYING,  # "–ò–≥—Ä–∞–µ—Ç... "
    'assets': {
        'large_image': 'mp:external/iF7VVSpeuG-VuBI48Fbpx4Aa7kicLLvndebLQt6BFyc/https/yellowfire.ru/uploaded_files/github_logo.gif',
        # —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É
        'large_text': '–ü—Ä–æ—Å—Ç–æ –ª–æ–≥–æ—Ç–∏–ø github',  # —Ç–µ–∫—Å—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É
    },
    "timestamps": {
        "start": int(datetime.datetime.now().timestamp()) * 1000  # —Ç–∞–π–º–µ—Ä
    },
    "buttons": [
        "–ü—Ä–æ–µ–∫—Ç GitHub",  # –Ω–∞–∑–≤–∞–Ω–∏–µ 1 –∫–Ω–æ–ø–∫–∏
        # "–ö–Ω–æ–ø–∫–∞ 2",  # –Ω–∞–∑–≤–∞–Ω–∏–µ 2 –∫–Ω–æ–ø–∫–∏
    ],
    'application_id': '1312148819387092993',
    "metadata": {
        "button_urls": [
            "https://github.com/Badim41/discord_voice_client",  # —Å—Å—ã–ª–∫–∞ 1 –∫–Ω–æ–ø–∫–∏
            # "https://...",  # —Å—Å—ã–ª–∫–∞ 2 –∫–Ω–æ–ø–∫–∏
        ]
    }
}

activity = Activity.from_json(activity_json)
